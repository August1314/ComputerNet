路由器要知道网络协议

A类地址
Net网络ID位  Host主机ID位
 这类网络 ID 被分配给拥有大量主机的网络
 前缀长度只有 8 位，最高位是 0
 剩余的 24 位可用来标识 16777214 个主机 ID
 较短的前缀长度使可接受 A 类网络 ID的网络数量限制为 126 个
 
 
 
B类地址
Net网络ID位  Host主机ID位
 前缀长度只有 14 位，最高两位是10
 剩余的 16 位可用来标识 65534 个主机 ID
 较短的前缀长度使可接受 B 类网络 ID的网络数量限制为 16384 个
 
 
C类地址
Net网络ID位  Host主机ID位
 前缀长度只有 14 位，最高两位是110
 剩余的 16 位可用来标识 65534 个主机 ID
 较短的前缀长度使可接受 B 类网络 ID的网络数量限制为 16384 个

D类地址
Net网络ID位  Host主机ID位
 前缀长度只有 14 位，最高两位是1110


特殊表示
主机号全为 0 的 IP 表示某网络号的网络本身

广播地址
主机号全为 1 的 IP 表示本网广播会成为本地广播

回环地址
第一段十进制数值为 127是保留地址，用于环路反馈等测试。如 127.0.0.1 代表本机地址

全 0 地址，整个 IP 地址为 0 表示一个未知的网络如：0.0.0.0

私有IP 地址
公有IP：用于因特网--公共主机
专有IP：专用于组织的专用网内部

网络掩码
作用：标识一个 IP的网络号范围
结构：长度 32 位，由一串 1 和紧随的一串 0 组成
1 对应于 IP 中的网络号（子网号），0 对应于 IP 地址中的主机号
表格：
A 类
B 类
C 类


子网掩码与子网划分
子网与主机个数计算
计算公式：


IP的表示方式
192.168.1.0
不表示一个具体 IP 地址，而是表示一网段的网络地址

192.168.1.255
表示一个广播地址

192.168.1.1/24
用 CIDR 表示的 IP，/后的数字表示掩码的高 24 位为 1，其余为 0

判断主机是否在同一网段的步骤
IP与子网掩码进行逻辑与得到结果
结果相同的就在同一网段内

4间机房，每间 25 台机器，给定 IP：192.168.10.0，要划分为 4 个子网，尽可能最小浪费 IP 地址，而且要满足现有 IP 地址需求。
## 子网划分题目解答

**题目：** 4间机房，每间25台机器，给定IP：192.168.10.0，要划分为4个子网，尽可能最小浪费IP地址。

### 解题过程

1. **分析需求：**
   - 需要4个子网
   - 每个子网需要25台主机
   - 使用IP段：192.168.10.0

2. **计算子网位数：**
   - 2^n ≥ 4，n = 2位

3. **计算主机位数：**
   - 每子网需要25台主机 + 网络地址 + 广播地址 = 27
   - 2^m ≥ 27，m = 5位

4. **确定子网掩码：**
   - 原始网络位：24位
   - 子网位：2位
   - 主机位：5位
   - 新网络位：24 + 2 = 26位
   - 子网掩码：255.255.255.192 (/26)

### 子网分配方案

| 子网 | 网络地址 | 可用主机范围 | 广播地址 | 可用主机数 |
|------|----------|--------------|----------|------------|
| 机房1 | 192.168.10.0/26 | 192.168.10.1 - 192.168.10.30 | 192.168.10.31 | 30台 |
| 机房2 | 192.168.10.32/26 | 192.168.10.33 - 192.168.10.62 | 192.168.10.63 | 30台 |
| 机房3 | 192.168.10.64/26 | 192.168.10.65 - 192.168.10.94 | 192.168.10.95 | 30台 |
| 机房4 | 192.168.10.96/26 | 192.168.10.97 - 192.168.10.126 | 192.168.10.127 | 30台 |

### 验证结果
- ✅ 4个子网：满足要求
- ✅ 每间机房25台机器：每个子网提供30个可用主机地址
- ✅ 最小浪费：每个子网只浪费5个IP地址
- ✅ 使用给定IP段：192.168.10.0

**答案：** 使用子网掩码255.255.255.192 (/26)进行子网划分，每个子网可容纳30台主机，满足25台机器的需求，总浪费20个IP地址。

